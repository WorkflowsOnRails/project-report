digraph hierarchy {
rankdir=TB
node[shape=Mrecord, fontname=Arial, fontsize=10, penwidth=0.7]
edge[dir=forward, arrowhead=vee, fontname=Arial, fontsize=9, penwidth=0.7]

start[label="",
      shape=circle, style=filled, color=black, fillcolor=black,
      fixedsize=true, width=0.25, height=0.25]
writing_submission[label = "{writing submission|}"]
reviewing[label = "{reviewing|enter/notify_submitted()}"]
accepted[label = "{accepted|enter/notify_accepted(),record_submission()}"]
failed[label = "{failed|}"]
end[label="",
    shape=doublecircle, style=filled, color=black, fillcolor=black,
    fixedsize=true, width=0.2, height=0.2]

start->writing_submission
writing_submission->reviewing [label = " submit   "]
writing_submission->failed [label = " deadline_expired/notify_expired()   "]
reviewing->reviewing [label = " submit   "]
reviewing->writing_submission [label = " return/notify_returned()   "]
reviewing->accepted [label = " accept   "]
reviewing->accepted [label = " deadline_expired/notify_expired()   "]
accepted->end
failed->end
}
